function customSelect(e){e.parents(".js-select__list").find(".js-select__item").removeClass("selected"),e.addClass("selected"),e.parents(".js-input").addClass("focus");let s=e.text().trim(),t=e.data("value");e.parents(".js-select").eq(0).find(".js-select__value").text(s),e.parents(".js-select").eq(0).find('input[type="hidden"]').val(t).trigger("change")}function offerSlider(){new Swiper(".offer-slider.swiper-container",{slidesPerView:1,spaceBetween:10,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,pagination:{el:".offer-slider__pagination",clickable:!0}})}function storiesBlockSlider(){new Swiper(".stories-block-slider.swiper-container",{slidesPerView:"auto",spaceBetween:15,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,scrollbar:{el:".stories-block-slider__scrollbar",draggable:!0},breakpoints:{768:{slidesPerView:"auto",spaceBetween:20},992:{slidesPerView:"auto",spaceBetween:35}}})}function tagsSlider(){new Swiper(".tags-slider.swiper-container",{slidesPerView:"auto",spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,scrollbar:{el:".tags-slider__scrollbar",draggable:!0}})}function categoriesSlider(){new Swiper(".categories-slider.swiper-container",{slidesPerView:1.8,spaceBetween:15,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,navigation:{nextEl:".categories-slider__next",prevEl:".categories-slider__prev"},breakpoints:{480:{slidesPerView:2,spaceBetween:15},576:{slidesPerView:2.5,spaceBetween:15},768:{slidesPerView:2.5,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}}})}function stockSlider(){new Swiper(".stock-slider.swiper-container",{slidesPerView:2,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,navigation:{nextEl:".stock-slider__next",prevEl:".stock-slider__prev"},breakpoints:{768:{slidesPerView:1.4,spaceBetween:20},992:{slidesPerView:2,spaceBetween:20}}})}function productSlider(){new Swiper(".product-slider.swiper-container",{slidesPerView:2,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,pagination:{el:".product-slider__pagination",clickable:!0},navigation:{nextEl:".product-slider__next",prevEl:".product-slider__prev"},breakpoints:{768:{slidesPerView:3,spaceBetween:20},992:{slidesPerView:4,spaceBetween:20}}})}function setProductsSlider(){new Swiper(".set-products-slider.swiper-container",{slidesPerView:2,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,pagination:{el:".set-products-slider__pagination",clickable:!0},navigation:{nextEl:".set-products-slider__next",prevEl:".set-products-slider__prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:20},1200:{slidesPerView:3,spaceBetween:20}}})}function sliderImages(){new Swiper(".slider-images.swiper-container",{slidesPerView:1,spaceBetween:10,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,pagination:{el:".slider-images__pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:20}}})}function giftSlider(){new Swiper(".gift-slider.swiper-container",{slidesPerView:1,spaceBetween:0,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,pagination:{el:".gift-slider__pagination",clickable:!0},breakpoints:{480:{slidesPerView:2,spaceBetween:0},576:{slidesPerView:3,spaceBetween:0}}})}function sliderColors(){new Swiper(".slider-colors.swiper-container",{slidesPerView:"auto",spaceBetween:12,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,scrollbar:{el:".slider-colors__scrollbar",draggable:!0},breakpoints:{768:{slidesPerView:"auto",spaceBetween:20}}})}function personalSlider(){new Swiper(".personal-slider.swiper-container",{slidesPerView:1.08,spaceBetween:20,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,freeMode:!0,scrollbar:{el:".personal-slider__scrollbar",draggable:!0},breakpoints:{576:{slidesPerView:1.5,spaceBetween:20},768:{slidesPerView:2.2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20}}})}function personalSliderInner(){new Swiper(".personal-slider-inner.swiper-container",{slidesPerView:1.08,spaceBetween:20,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,freeMode:!0,scrollbar:{el:".personal-slider-inner__scrollbar",draggable:!0},breakpoints:{576:{slidesPerView:1.5,spaceBetween:20},768:{slidesPerView:2.2,spaceBetween:20},992:{slidesPerView:3.2,spaceBetween:20},1340:{slidesPerView:4,spaceBetween:20}}})}function bouquetsLookSlider(){new Swiper(".bouquets-look-slider.swiper-container",{slidesPerView:1,spaceBetween:20,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,centeredSlides:!0,pagination:{el:".bouquets-look-slider__pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:20,speed:700},992:{speed:1e3,slidesPerView:3,spaceBetween:160},1200:{slidesPerView:3,spaceBetween:185}}})}function sliderType(){let e,s,t;$(".slider-type.swiper-container").each((function(i,n){e=$(n).parents(".slider-type-block").find(".slider-type__prev")[0],s=$(n).parents(".slider-type-block").find(".slider-type__next")[0],t=$(n).parents(".slider-type-block").find(".slider-type__scrollbar")[0];new Swiper(n,{slidesPerView:"auto",spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,freeMode:!0,scrollbar:{el:t,draggable:!0},navigation:{nextEl:s,prevEl:e}})}))}function cardSliders(){if($(".card-slider__slide").length>1){let e=new Swiper(".card-slider-thumbs.swiper-container",{spaceBetween:10,slidesPerView:3,freeMode:!0,watchSlidesProgress:!0,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,breakpoints:{992:{slidesPerView:3,spaceBetween:20}}});new Swiper(".card-slider.swiper-container",{slidesPerView:1,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,navigation:{nextEl:".card-slider__next",prevEl:".card-slider__prev"},pagination:{el:".card-slider__pagination",clickable:!0},breakpoints:{992:{slidesPerView:1,spaceBetween:20}},thumbs:{swiper:e,autoScrollOffset:1}})}else{new Swiper(".card-slider.swiper-container",{slidesPerView:1,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,navigation:{nextEl:".card-slider__next",prevEl:".card-slider__prev"},pagination:{el:".card-slider__pagination",clickable:!0},breakpoints:{992:{slidesPerView:1,spaceBetween:20}}})}}function bouquetDesignerSlider(){if($(".bouquet-designer-slider").length){let s=void 0;function e(){var e=$(window).width();e<992&&null==s?s=new Swiper(".bouquet-designer-slider.swiper-container",{slidesPerView:2,spaceBetween:10,loop:!1,observer:!0,observeParents:!0,watchOverflow:!0,touchReleaseOnEdges:!0,speed:700,freeMode:!0,scrollbar:{el:".bouquet-designer-slider__scrollbar",draggable:!0},navigation:{nextEl:".bouquet-designer-slider__next",prevEl:".bouquet-designer-slider__prev"},breakpoints:{768:{slidesPerView:3,spaceBetween:20}}}):e>991&&null!=s&&(s.destroy(),s=void 0,$(".bouquet-designer-slider").find(".swiper-wrapper").removeAttr("style"),$(".bouquet-designer-slider").find(".swiper-slide").removeAttr("style"))}e(),$(window).resize((function(){e()}))}}function mainFilterSlider(){$(".js-slider-noui-slider").length&&$(".js-slider-noui-slider").each((function(e,s){let t=$(s).parents(".js-slider-noui").find(".js-slider-noui-from"),i=$(s).parents(".js-slider-noui").find(".js-slider-noui-to"),n=$(s).data("min"),o=$(s).data("max");noUiSlider.create(s,{start:[n,o],connect:!0,step:1,range:{min:n,max:o},format:wNumb({decimals:0,thousand:" "})}).on("update",(function(e,t,i){$(s).parents(".js-slider-noui").find(".js-slider-noui-from").val(e[0]),$(s).parents(".js-slider-noui").find(".js-slider-noui-to").val(e[1]),$(s).parents(".js-slider-noui").find(".js-slider-noui-from-text").text(e[0]),$(s).parents(".js-slider-noui").find(".js-slider-noui-to-text").text(e[1])})),$(t).on("change",(function(){$(this).parents(".js-slider-noui");let e=$(s).find(".js-slider-noui-to").val();s.noUiSlider.set([$(this).val(),e])})),$(i).on("change",(function(){let e=$(this).parents(".js-slider-noui"),t=$(e).find(".js-slider-noui-from").val();s.noUiSlider.set([t,$(this).val()])}))}))}function focusInput(e){""!==e.val()?e.parents(".js-input").addClass("focus"):e.parents(".js-input").removeClass("focus")}function colorName(e){let s=$(e).parents(".js-colors-block").find(".js-colors-block__item"),t="";s.each((function(e,s){$(s).find("input").prop("checked")&&(t=$(s).data("name"))})),t.length?($(e).parents(".js-colors-block").find(".js-colors-block__bottom").addClass("active"),$(e).parents(".js-colors-block").find(".js-colors-block__text").text(t)):$(e).parents(".js-colors-block").find(".js-colors-block__bottom").removeClass("active")}Fancybox.defaults.placeFocusBack=!1,Fancybox.defaults.autoFocus=!1,$(document).on("click",".js-select__trigger",(function(e){$(this).parents(".js-select").eq(0).hasClass("open")?($(this).parents(".js-select").eq(0).removeClass("open").find(".js-select__list").eq(0).removeClass("open"),""!==$(this).parents(".js-select").find('input[type="hidden"]').val()?$(this).parents(".js-input").addClass("focus"):$(this).parents(".js-input").removeClass("focus")):($(".js-select").removeClass("open").find(".js-select__list").removeClass("open"),$(this).parents(".js-select").length>1&&$(this).parents(".js-select").addClass("open").find(".js-select__list").addClass("open"),$(this).parents(".js-select").eq(0).addClass("open").find(".js-select__list").eq(0).addClass("open"),""!==$(this).parents(".js-select").find('input[type="hidden"]').val()?$(this).parents(".js-input").addClass("focus"):$(this).parents(".js-input").removeClass("focus"))})),$(document).on("click",".js-select__close",(function(){$(this).parents(".js-select").eq(0).find(".js-select__trigger").removeClass("open"),$(this).parents(".js-select").eq(0).removeClass("open").find(".js-select__list").removeClass("open")})),$(document).on("click",".js-select__item",(function(){$(this).hasClass("selected")||customSelect($(this)),$(this).parents(".js-select").eq(0).find(".js-select__trigger").removeClass("open"),$(this).parents(".js-select").eq(0).removeClass("open").find(".js-select__list").removeClass("open")})),$(document).on("click",(function(e){$(e.target).closest(".js-select__trigger").length||$(e.target).closest(".js-select__list").length||($(".js-select.open").removeClass("open"),$(".js-select__list.open").removeClass("open"))})),$(document).ready((function(){$(".js-select").each((function(e,s){$(s).find(".js-select__item").each((function(e,s){$(s).hasClass("selected")&&($(s).trigger("click"),customSelect($(s)))}))})),canLoad=!0})),$(document).on("change",".js-colors-block__item input",(function(){colorName($(this))})),$(document).on("click",".js-input__clear",(function(){$(this).parents(".js-input").find("input").val(""),$(this).parents(".js-input").removeClass("focus")})),$(document).ready((function(){new DynamicAdapt("max").init(),Fancybox.bind("[data-fancybox]",{autoFocus:!1}),$('input[type="tel"]').inputmask({mask:"+7(999) 999-9999"}),offerSlider(),storiesBlockSlider(),tagsSlider(),categoriesSlider(),stockSlider(),productSlider(),sliderColors(),sliderType(),mainFilterSlider(),cardSliders(),setProductsSlider(),sliderImages(),giftSlider(),bouquetsLookSlider(),personalSlider(),personalSliderInner(),bouquetDesignerSlider(),$(".js-input input, .js-input textarea").each((function(e,s){focusInput($(this))})),$(".js-colors-block").each((function(e,s){colorName($(s).find(".js-colors-block__item").eq(0)[0])})),$(".main-date").each((function(e,s){new AirDatepicker(s,{buttons:[{content:"Сегодня",onClick:e=>{const s=new Date;e.selectDate(s),e.setViewDate(s)}},"clear"],minDate:new Date})}))})),$(document).on("focusin",".js-input input, .js-input textarea",(function(){$(this).parents(".js-input").addClass("focus")})),$(document).on("focusout",".js-input input, .js-input textarea",(function(){focusInput($(this))})),$(document).on("change",".js-input input, .js-input textarea",(function(){focusInput($(this))})),$(document).on("change",".js-designer-photo__file",(function(){if($(this).val()){let e,s=$(this)[0].files[0];s&&(e=URL.createObjectURL(s));let t=$(this).val().split("/").pop().split("\\").pop();$(".js-designer-photo").find(".js-designer-photo__name").text(t),$(".js-designer-photo").find(".js-designer-photo__img").attr("src",e),Fancybox.close(),Fancybox.show([{src:"#upload-photo-preview",type:"inline"}])}})),$(document).on("click",".js-designer-photo__close",(function(){$(".js-designer-photo").find(".js-designer-photo__name-btn").text($(".js-designer-photo__name").text()),$(".js-designer-photo").find(".js-designer-photo__btn").addClass("active").removeAttr("data-fancybox"),Fancybox.close()})),$(document).on("click",".js-designer-photo__clear",(function(){$(".js-designer-photo__file").val(""),Fancybox.close()})),$(document).on("click",".js-designer-photo__btn",(function(e){$(this).hasClass("active")&&($(".js-designer-photo__file").val(""),$(".js-designer-photo").find(".js-designer-photo__name-btn").text("Собрать по вашему фото"),$(this).removeClass("active").attr("data-fancybox",""))})),$(document).on("click",".js-filter__btn",(function(){$(".js-filter").addClass("open"),$("body").addClass("lock")})),$(document).on("click",".js-filter__close",(function(){$(".js-filter").removeClass("open"),$("body").removeClass("lock")})),$(document).on("click",".js-menu__btn",(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(".js-menu").removeClass("open"),$("body").removeClass("lock")):($(this).addClass("open"),$(".js-menu").addClass("open"),$("body").addClass("lock"))})),$(document).on("click",".js-sub-menu__btn",(function(){$(this).parents(".js-sub-menu").hasClass("open")?$(this).parents(".js-sub-menu").removeClass("open"):$(this).parents(".js-sub-menu").addClass("open")})),$(document).on("mouseenter",".js-sub-menu",(function(){$(window).width()>767&&$(this).addClass("open")})),$(document).on("mouseleave",".js-sub-menu",(function(){$(window).width()>767&&$(this).removeClass("open")})),$(document).on("click",".js-sub-sub-menu__btn",(function(){$(this).parents(".js-sub-sub-menu").hasClass("open")?$(this).parents(".js-sub-sub-menu").removeClass("open"):$(this).parents(".js-sub-sub-menu").addClass("open")})),$(document).on("click",".js-quantity-btn",(function(e){let s=$(this).parents(".js-quantity").find("input"),t=parseInt(s.val());$(this).hasClass("js-quantity-minus")?t-=1:t+=1,t<1&&(t=1),s.val(t).trigger("change")})),$(document).on("click",".js-block-btn",(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(this).parents(".js-block").find(".js-block-body").removeClass("open")):($(this).addClass("open"),$(this).parents(".js-block").find(".js-block-body").addClass("open"))})),$(document).on("click",(function(e){$(e.target).closest(".js-block-btn").length||$(e.target).closest(".js-block-body").length||($(".js-block-btn").removeClass("open"),$(".js-block-body").removeClass("open"))})),$(document).on("click",".js-block-checkbox__btn",(function(){$(this).parents(".js-block-checkbox").hasClass("open")?$(this).parents(".js-block-checkbox").removeClass("open"):$(this).parents(".js-block-checkbox").addClass("open")})),$(document).on("click",".js-spoiler-title",(function(){$(this).parents(".js-spoiler").hasClass("js-spoiler-double")?$(this).parents(".js-spoiler-item").hasClass("active")?($(this).parents(".js-spoiler-item").removeClass("active"),$(this).parents(".js-spoiler-item").find(".js-spoiler-body").slideUp(300)):($(this).parents(".js-spoiler-item").addClass("active"),$(this).parents(".js-spoiler-item").find(".js-spoiler-body").slideDown(300)):$(this).parents(".js-spoiler-item").hasClass("active")?($(this).parents(".js-spoiler").find(".js-spoiler-item").removeClass("active"),$(this).parents(".js-spoiler").find(".js-spoiler-body").slideUp(300)):($(this).parents(".js-spoiler").find(".js-spoiler-item").removeClass("active"),$(this).parents(".js-spoiler").find(".js-spoiler-body").removeClass("active").slideUp(300),$(this).parents(".js-spoiler-item").addClass("active"),$(this).parents(".js-spoiler-item").find(".js-spoiler-body").slideDown(300))})),$(document).on("click",".js-tab-nav-item",(function(){let e=$(this).data("tab");$(this).hasClass("active")||($(this).parents(".js-tab").find(".js-tab-nav-item").removeClass("active"),$(this).addClass("active"));let s=$(this).parents(".js-tab").find(".js-tab-body-item");s.each((function(){$(this).data("tab")==e&&(s.removeClass("active").hide(),$(this).addClass("active").show())}))})),$(document).on("click",".js-new-address-add__btn",(function(){$(".js-new-address-add").addClass("open")}));